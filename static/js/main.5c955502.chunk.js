(this.webpackJsonpreact_kabzda_1=this.webpackJsonpreact_kabzda_1||[]).push([[0],{120:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),c=n(5),i="ADD-MESSAGE",a={messageIcon:[{id:"1",names:"Andery",message:"\u041f\u0440\u0438\u0432\u0435\u0442"},{id:"2",names:"Roma",message:"\u041f\u0440\u0438\u0432\u0435\u0442"}],dialogsIcon:[{id:"1",names:"Andery"},{id:"2",names:"Roma"},{id:"3",names:"Maksim"},{id:"4",names:"Anton"},{id:"5",names:"\u0412\u0430\u043b\u0435\u0440\u0430"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(c.a)(Object(c.a)({},e),{},{messageIcon:[].concat(Object(r.a)(e.messageIcon),[{id:5,message:t.message,names:"\u044f"}])});default:return e}};var o=function(e){return{type:i,message:e}}},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return m}));var r=n(9),c=n.n(r),i=n(18),a=n(32),o=n(5),s=n(16),u="ADD-POST",l="SET_USERS_PROFILE",d="SET_STATUS",f="DELETE_POST",j={postDate:[{id:"1",message:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0447\u0443\u0432\u0430\u0447\u043e\u043a",like:"20",dislike:"15"},{id:"2",message:"\u0414\u0440\u0443\u0433\u0438\u0435 \u0441\u043b\u043e\u0432\u0430",like:"100",dislike:"4"},{id:"3",message:"\u0421\u043e\u0432\u0441\u0435\u043c \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u043b\u043e\u0432\u0430",like:"10",dislike:"5"}],newPostText:"it-kamasutra",profile:null,status:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(o.a)(Object(o.a)({},e),{},{postDate:[].concat(Object(a.a)(e.postDate),[{id:5,message:t.newPostText,like:0,dislike:0}]),newPostText:""});case l:return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case d:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case f:return Object(o.a)(Object(o.a)({},e),{},{postDate:e.postDate.filter((function(e){return e.id!==t.id}))});default:return e}};var b=function(e){return{type:u,newPostText:e}},p=function(e){return{type:l,profile:e}},h=function(e){return{type:d,status:e}},O=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getProfile(e);case 2:r=t.sent,n(p(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getStatus(e);case 2:r=t.sent,n(h(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.putStatus(e);case 2:0===t.sent.data.resultCode&&g(n(h(e)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},158:function(e,t,n){},159:function(e,t,n){},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(126),c=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"352c90ad-3ef7-45e1-a349-cc1b511e4092"}}),i={getUsers:function(e,t){return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},authMe:function(){return c.get("auth/me").then((function(e){return e.data}))},getProfile:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return c.get("profile/status/".concat(e))},putStatus:function(e){return c.put("profile/status",{status:e}).then((function(e){return e}))},onLogin:function(e,t,n){return c.post("auth/login",{email:e,password:t,rememberMe:n})},desLogin:function(){return c.delete("auth/login")}}},160:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t),n.d(t,"renderCreateTRee",(function(){return Le}));var r=n(0),c=n.n(r),i=n(62),a=n.n(i),o=(n(158),n(33)),s=n(34),u=n(37),l=n(36),d=(n(159),n(11)),f=n(14),j=(n(160),n(1)),b=function(){return Object(j.jsxs)("div",{children:["\u041d\u043e\u0432\u043e\u0441\u0442\u0438",Object(j.jsx)("div",{children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(j.jsx)("p",{children:"\u0422\u0435\u043a\u0441\u0442 \u0411\u043e\u043b\u044c\u0448\u0443\u0449\u0438\u0439"})]})},p=(n(162),function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:"\u0415\u0433\u043e\u0440 \u043a\u0440\u0438\u0434"}),Object(j.jsx)("div",{children:"\u0421\u0435\u0440\u0433\u0435\u0439 \u041b\u0430\u0437\u0430\u0440\u0435\u0432"}),Object(j.jsx)("div",{children:"\u0414\u0438\u043c\u0430 \u0411\u0438\u043b\u0430\u043d"})]})}),h=(n(163),function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:"\u041e\u0431\u0449\u0438\u0435"}),Object(j.jsx)("div",{children:"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"}),Object(j.jsx)("div",{children:"\u0414\u0438\u0437\u0430\u0439\u043d"})]})}),O=n(13),g=n(9),m=n.n(g),x=n(18),v=n(32),w=n(5),k=n(16),y=function(e,t,n,r){return e.map((function(e){return e[t]===n?Object(w.a)(Object(w.a)({},e),r):e}))},S="FOLLOW",T="UNFOLLOW",F="SET_FRIENDS",C="SET_CURRENT_PAGE",N="SET_TOTAL_USERS_COUNT",P="TOGGLE_IS_FETCHING",_="TOGGLE_IS_FOLLOWING",I={friend:[],totalUsersCount:0,pageSize:20,currentPage:1,isFetching:!1,toggleFollowing:[]},E=function(e){return{type:S,userId:e}},A=function(e){return{type:T,userId:e}},L=function(e){return{type:F,friends:e}},U=function(e){return{type:C,currentPage:e}},D=function(e){return{type:P,toggleFetching:e}},z=function(e,t){return{type:_,toggleFetching:e,userId:t}},M=function(){var e=Object(x.a)(m.a.mark((function e(t,n,r,c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(c(n)),t(z(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(w.a)(Object(w.a)({},e),{},{friend:y(e.friend,"id",t.userId,{followed:!0})});case T:return Object(w.a)(Object(w.a)({},e),{},{friend:y(e.friend,"id",t.userId,{followed:!1})});case F:return Object(w.a)(Object(w.a)({},e),{},{friend:Object(v.a)(t.friends)});case C:return Object(w.a)(Object(w.a)({},e),{},{currentPage:t.currentPage});case N:return Object(w.a)(Object(w.a)({},e),{},{totalUsersCount:t.totalCount});case P:return Object(w.a)(Object(w.a)({},e),{},{isFetching:t.toggleFetching});case _:return Object(w.a)(Object(w.a)({},e),{},{toggleFollowing:t.toggleFetching?[].concat(Object(v.a)(e.toggleFollowing),[t.userId]):e.toggleFollowing.filter((function(e){return e!==t.userId}))});default:return e}},G=n(97),W=function(e){var t=e.friends;return Object(j.jsx)("div",{className:"alone_people",children:Object(j.jsxs)("div",{className:"friend_name1",children:[Object(j.jsx)("div",{children:Object(j.jsx)(f.b,{to:"/profile/"+e.id,children:Object(j.jsx)("img",{alt:"friend",src:null!=e.photoUrl.small?e.photoUrl:G.a,width:"150px"})})}),t,Object(j.jsx)("div",{className:"button_follow",children:e.followed?Object(j.jsx)("button",{disabled:e.toggleFollowing.some((function(t){return t===e.id})),onClick:function(){e.followthunk(e.id)},children:"UnFollow"}):Object(j.jsx)("button",{disabled:e.toggleFollowing.some((function(t){return t===e.id})),onClick:function(){e.unfollowThunk(e.id)},children:"Follow"})}),Object(j.jsxs)("div",{className:"live",children:[Object(j.jsx)("div",{children:"Nizniy Novgorod"}),Object(j.jsx)("div",{children:"Russia"})]}),Object(j.jsx)("div",{className:"status",children:e.status})]})})},B=n(124),H=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],c=1;c<=t;c++)n.push(c);var i=Math.ceil(t/10),a=Object(r.useState)(1),o=Object(B.a)(a,2),s=o[0],u=o[1],l=10*(s-1)+1,d=10*s;return Object(j.jsxs)("div",{className:"pagination_container",children:[s>1&&Object(j.jsx)("button",{onClick:function(){u(s-1)},children:"back"}),n.filter((function(e){return e>=l&&e<=d})).map((function(t){return Object(j.jsx)("div",{className:"pages",onClick:function(){e.onPageChanged(t)},children:Object(j.jsx)("span",{className:e.currentPage===t&&"totalPage",children:t},t.id)})})),s<i&&Object(j.jsx)("button",{onClick:function(){u(s+1)},children:"Next"})]})},J=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(H,Object(w.a)({},e)),Object(j.jsx)("div",{className:"friends_global",children:e.friend.map((function(t){return Object(j.jsx)(W,{friends:t.name,photoUrl:t.photos,follow:e.follow,unfollow:e.unfollow,status:t.status,id:t.id,followed:t.followed,toggleIsFollowing:e.toggleIsFollowing,toggleFollowing:e.toggleFollowing,followthunk:e.followthunk,unfollowThunk:e.unfollowThunk},t.id)}))})]})},X=(n(187),n(39)),q=function(e){return e.navigation.friend},K=function(e){return e.navigation.pageSize},V=function(e){return e.navigation.totalUsersCount},Y=function(e){return e.navigation.currentPage},Z=function(e){return e.navigation.isFetching},Q=function(e){return e.navigation.toggleFollowing},$=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){e.props.creatorThunkOfGetUsers(e.props.currentPage,e.props.pageSize)},e.onPageChanged=function(t){e.props.creatorThunkOfGetUsers(t,e.props.pageSize)},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[this.props.isFetching?Object(j.jsx)(X.a,{}):null,Object(j.jsx)(J,{friend:this.props.friend,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,id:this.props.id,follow:this.props.follow,toggleFollowing:this.props.toggleFollowing,followthunk:this.props.followthunk,unfollowThunk:this.props.unfollowThunk})]})}}]),n}(c.a.Component),ee=Object(O.b)((function(e){return{friend:q(e),pageSize:K(e),totalUsersCount:V(e),currentPage:Y(e),isFetching:Z(e),toggleFollowing:Q(e)}}),{setCurrentPage:U,creatorThunkOfGetUsers:function(e,t){return function(){var n=Object(x.a)(m.a.mark((function n(r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(D(!0)),r(U(e)),n.next=4,k.a.getUsers(e,t);case 4:c=n.sent,r(D(!1)),r(L(c.items)),r((i=c.totalCount,{type:N,totalCount:i}));case 8:case"end":return n.stop()}var i}),n)})));return function(e){return n.apply(this,arguments)}}()},followthunk:function(e){return function(){var t=Object(x.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:M(n,e,k.a.unfollow.bind(k.a),A);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(x.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:M(n,e,k.a.follow.bind(k.a),E);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})($),te=(n(99),n.p+"static/media/logo.006c210d.png"),ne=function(e){return Object(j.jsxs)("nav",{className:"nav",children:[Object(j.jsx)("img",{alt:"logo",src:te,className:"logo"}),Object(j.jsx)("input",{type:"text",className:"searchPeople",placeholder:"Search friends, photos, videos"}),Object(j.jsx)("div",{className:"label",children:Object(j.jsx)(f.b,{to:"/profile",activeClassName:"activeLink",children:"Profile"})}),Object(j.jsxs)("div",{className:"label",children:[" ",Object(j.jsx)(f.b,{to:"/dialogs",children:"Messages"})]}),Object(j.jsxs)("div",{className:"label",children:[" ",Object(j.jsx)(f.b,{to:"/music",children:"Music"})]}),Object(j.jsx)("div",{className:"label",children:Object(j.jsx)(f.b,{to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(j.jsx)("div",{className:"label",children:Object(j.jsx)(f.b,{to:"/settings",children:"Settings"})}),Object(j.jsxs)("div",{className:"label",children:[" ",Object(j.jsx)(f.b,{to:"/friends",children:"Friends"})]}),e.isAuth?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{children:e.login}),Object(j.jsx)("button",{onClick:e.logoutThunk,children:"Log Out"})]}):Object(j.jsxs)("div",{className:"label",children:[" ",Object(j.jsx)(f.b,{to:"/login",children:"Login"})]})]})},re=n(53),ce="SET_AUTH_DATA",ie={userId:null,email:null,login:null,isAuth:!1,isFetching:!1},ae=function(e,t,n,r){return{type:ce,data:{userId:e,email:t,login:n,isAuth:r}}},oe=function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r,c,i,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.authMe();case 2:return 0===(n=e.sent).resultCode&&(r=n.data,c=r.id,i=r.email,a=r.login,t(ae(c,i,a,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(w.a)(Object(w.a)({},e),t.data);default:return e}},ue=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsx)(ne,Object(w.a)({},this.props))}}]),n}(c.a.Component),le=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthData:ae,logoutThunk:function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.desLogin();case 2:0===e.sent.data.resultCode&&t(ae(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ue),de=n(122),fe=n(123),je=n(63),be=n(46),pe=(n(189),Object(be.a)(50)),he=Object(fe.a)({form:"login"})((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:"log_in",onSubmit:e.handleSubmit,children:[Object(j.jsx)(de.a,{type:"text",name:"email",placeholder:"login",component:je.a,validate:[be.b,pe]}),Object(j.jsx)(de.a,{type:"text",name:"password",placeholder:"password",component:je.a,validate:[be.b,pe]}),Object(j.jsx)(de.a,{type:"checkbox",name:"rememberMe",component:je.a}),"remember me",e.error&&Object(j.jsx)("div",{className:"summeryError",children:e.error}),Object(j.jsx)("input",{type:"submit",value:"log in",validate:[be.b,pe]})]})})})),Oe=Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}),{onLoginThunk:function(e,t,n){return function(){var r=Object(x.a)(m.a.mark((function r(c){var i;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k.a.onLogin(e,t,n);case 2:0===(i=r.sent).data.resultCode?c(oe()):c(Object(re.a)("login",{_error:" ".concat(i.data.messages.length>0?i.data.messages[0]:void 0)}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(j.jsx)(d.a,{to:"/profile"}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsx)(he,{onSubmit:function(t){e.onLoginThunk(t.email,t.password,t.rememberMe)}})]})})),ge=n(10),me="INITIALIZED_APP",xe={initialized:!1},ve=n(120),we=n(121),ke=n(128),ye=n(125),Se=Object(ge.c)({messagePage:ve.b,postPage:we.b,navigation:R,auth:se,form:ye.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});default:return e}}}),Te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ge.d,Fe=Object(ge.e)(Se,Te(Object(ge.a)(ke.a))),Ce=function(e){return function(t){return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)(X.a,{}),children:Object(j.jsx)(e,Object(w.a)({},t))})}},Ne=c.a.lazy((function(){return n.e(4).then(n.bind(null,294))})),Pe=c.a.lazy((function(){return n.e(3).then(n.bind(null,295))})),_e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initialApp()}},{key:"render",value:function(){return this.props.initialized?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"app-wrapper",children:[Object(j.jsx)(le,{}),Object(j.jsxs)("div",{className:"content_main",children:[Object(j.jsx)(d.b,{path:"/dialogs",render:Ce(Pe)}),Object(j.jsx)(d.b,{path:"/profile/:userId?",render:Ce(Ne)}),Object(j.jsx)(d.b,{path:"/news",component:b}),Object(j.jsx)(d.b,{path:"/music",component:p}),Object(j.jsx)(d.b,{path:"/settings",component:h}),Object(j.jsx)(d.b,{path:"/friends",render:function(){return Object(j.jsx)(ee,{})}}),Object(j.jsx)(d.b,{path:"/login",render:function(){return Object(j.jsx)(Oe,{})}})]})]})}):Object(j.jsx)(X.a,{})}}]),n}(c.a.Component),Ie=Object(ge.d)(d.f,Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initialApp:function(){return function(e){var t=e(oe());Promise.all([t]).then((function(){e({type:me})}))}}}),d.f)(_e),Ee=function(){return Object(j.jsx)(O.a,{store:Fe,children:Object(j.jsx)(f.a,{basename:"/app-react",children:Object(j.jsx)(Ie,{})})})},Ae=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,293)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},Le=function(){a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Ee,{})}),document.getElementById("root"))};Le(),Ae()},39:function(e,t,n){"use strict";var r=n.p+"static/media/loading-87.d361d03b.gif",c=n(1);t.a=function(){return Object(c.jsx)("img",{src:r,alt:"loading"})}},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){if(!e)return"Field required"},c=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(5),c=n(88),i=(n(188),n(1)),a=["meta","input"],o=["meta","input"],s=function(e){var t=e.meta,n=e.input,o=Object(c.a)(e,a);return Object(i.jsxs)("div",{className:t.touched&&t.error?"form_control":null,children:[Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},n),o)),t.touched&&t.error&&Object(i.jsx)("span",{children:t.error})]})},u=function(e){var t=e.meta,n=e.input,a=Object(c.a)(e,o);return Object(i.jsxs)("div",{className:t.touched&&t.error?"form_control":null,children:[Object(i.jsx)("input",Object(r.a)(Object(r.a)({},n),a)),t.touched&&t.error&&Object(i.jsx)("span",{children:t.error})]})}},97:function(e,t,n){"use strict";t.a=n.p+"static/media/userPhoto.39943047.png"},99:function(e,t,n){}},[[289,1,2]]]);
//# sourceMappingURL=main.5c955502.chunk.js.map